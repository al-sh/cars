<div class="chat-list">
  <!-- 
    Кнопка для создания нового чата.
    (click)="onCreateNewChat()" - при клике вызывается метод onCreateNewChat().
    Пока это заглушка, но структура готова для будущей реализации.
  -->
  <button class="new-chat-button" (click)="onCreateNewChat()">
    + Новый чат
  </button>

  <!-- 
    Поле поиска чатов.
    Пока это просто статичный input без функционала.
    На этапе 12 мы добавим FormControl и логику фильтрации.
    
    placeholder - текст-подсказка, который виден когда поле пустое.
    disabled - показываем, что функционал ещё не реализован (опционально).
  -->
  <div class="search-container">
    <input 
      type="text" 
      class="search-input" 
      placeholder="Поиск чатов..."
      disabled
    />
  </div>

  <!--
    Список чатов.

    @for - это новый control flow синтаксис Angular 17+.

    Важные изменения на этапе 6:
    - chats() вызывается как функция, потому что это Signal
    - Добавлен [isActive] для подсветки выбранного чата
    - currentChatId() тоже Signal, поэтому вызываем как функцию

    Когда currentChatId изменится (через selectChat()), Angular автоматически
    пересчитает выражение chat.id === currentChatId() и обновит класс active.
    Это реактивность Signals в действии!
  -->
  <div class="chats-container">
    @for (chat of chats(); track chat.id) {
      <app-chat-item
        [chat]="chat"
        [isActive]="chat.id === currentChatId()"
        (selected)="onChatSelected($event)"
      />
    }
  </div>
</div>
