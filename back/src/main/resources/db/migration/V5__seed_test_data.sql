-- V5__seed_test_data.sql — тестовые данные для разработки.
--
-- 2 пользователя, у каждого по 2 чата, в каждом чате по 3 сообщения.
-- Пароли: password123 (BCrypt-хеш, cost=10)

-- =============================================================================
-- Пользователи
-- =============================================================================

INSERT INTO users (id, email, name, password_hash, role) VALUES
(
    'a1000000-0000-0000-0000-000000000001',
    'ivan@example.com',
    'Иван Петров',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2uheWG/igi.',
    'CLIENT'
),
(
    'a1000000-0000-0000-0000-000000000002',
    'maria@example.com',
    'Мария Сидорова',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2uheWG/igi.',
    'CLIENT'
);

-- =============================================================================
-- Чаты Ивана
-- =============================================================================

INSERT INTO chats (id, user_id, title) VALUES
(
    'b1000000-0000-0000-0000-000000000001',
    'a1000000-0000-0000-0000-000000000001',
    'Ищу семейный SUV'
),
(
    'b1000000-0000-0000-0000-000000000002',
    'a1000000-0000-0000-0000-000000000001',
    'Бюджетный городской хэтчбек'
);

-- Чаты Марии

INSERT INTO chats (id, user_id, title) VALUES
(
    'b1000000-0000-0000-0000-000000000003',
    'a1000000-0000-0000-0000-000000000002',
    'Электромобиль до 4 млн'
),
(
    'b1000000-0000-0000-0000-000000000004',
    'a1000000-0000-0000-0000-000000000002',
    'Спортивное купе'
);

-- =============================================================================
-- Сообщения — чат 1 (Иван, семейный SUV)
-- =============================================================================

INSERT INTO messages (chat_id, role, content, created_at) VALUES
(
    'b1000000-0000-0000-0000-000000000001',
    'USER',
    'Привет! Ищу семейный SUV, бюджет до 3 млн рублей. Нас четверо, иногда выезжаем за город.',
    now() - interval '2 days'
),
(
    'b1000000-0000-0000-0000-000000000001',
    'ASSISTANT',
    'Здравствуйте! Хороший выбор. Уточните, пожалуйста: вы рассматриваете только новые автомобили или возможен автомобиль с пробегом? И есть ли предпочтения по приводу — полный или передний?',
    now() - interval '2 days' + interval '1 minute'
),
(
    'b1000000-0000-0000-0000-000000000001',
    'USER',
    'Желательно новый, привод полный — зимы у нас суровые.',
    now() - interval '2 days' + interval '3 minutes'
);

-- =============================================================================
-- Сообщения — чат 2 (Иван, городской хэтчбек)
-- =============================================================================

INSERT INTO messages (chat_id, role, content, created_at) VALUES
(
    'b1000000-0000-0000-0000-000000000002',
    'USER',
    'Нужна машинка для города, бюджет около 1.5 млн. Главное — экономичность и парковка в тесном дворе.',
    now() - interval '1 day'
),
(
    'b1000000-0000-0000-0000-000000000002',
    'ASSISTANT',
    'Отличный запрос! Для городской езды с акцентом на экономичность и компактность хорошо подойдут хэтчбеки B/C-класса. Вы рассматриваете механическую или автоматическую коробку передач?',
    now() - interval '1 day' + interval '1 minute'
),
(
    'b1000000-0000-0000-0000-000000000002',
    'USER',
    'Автомат предпочтительно, в пробках устал от механики.',
    now() - interval '1 day' + interval '4 minutes'
);

-- =============================================================================
-- Сообщения — чат 3 (Мария, электромобиль)
-- =============================================================================

INSERT INTO messages (chat_id, role, content, created_at) VALUES
(
    'b1000000-0000-0000-0000-000000000003',
    'USER',
    'Хочу перейти на электромобиль. Бюджет до 4 млн, езжу в основном по городу, дача в 150 км.',
    now() - interval '3 hours'
),
(
    'b1000000-0000-0000-0000-000000000003',
    'ASSISTANT',
    'Прекрасный выбор! При поездках на дачу 150 км нужно учитывать запас хода. Есть ли у вас возможность установить зарядную станцию дома или в гараже?',
    now() - interval '3 hours' + interval '1 minute'
),
(
    'b1000000-0000-0000-0000-000000000003',
    'USER',
    'Да, есть гараж, могу поставить зарядку. Главное — чтобы хватало на дачу и обратно без промежуточной зарядки.',
    now() - interval '3 hours' + interval '5 minutes'
);

-- =============================================================================
-- Сообщения — чат 4 (Мария, спортивное купе)
-- =============================================================================

INSERT INTO messages (chat_id, role, content, created_at) VALUES
(
    'b1000000-0000-0000-0000-000000000004',
    'USER',
    'Мечтаю о спортивном купе. Бюджет 2.5 млн, хочется что-то с характером, не обязательно новое.',
    now() - interval '30 minutes'
),
(
    'b1000000-0000-0000-0000-000000000004',
    'ASSISTANT',
    'Отлично, купе с характером — это интересно! Уточните: важна ли практичность (небольшой багажник, два пассажира сзади) или готовы к двухместному варианту? И как относитесь к обслуживанию — готовы к содержанию спортивного авто?',
    now() - interval '29 minutes'
),
(
    'b1000000-0000-0000-0000-000000000004',
    'USER',
    'Практичность не нужна, я одна езжу. К обслуживанию готова, главное — удовольствие от вождения.',
    now() - interval '25 minutes'
);
