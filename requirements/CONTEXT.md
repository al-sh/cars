# CarsAI — Контекст проекта

## Что это

Веб-сервис подбора легковых автомобилей через диалог с ИИ-ассистентом. Пользователь описывает свои требования в чате, ИИ задаёт уточняющие вопросы и предлагает подходящие варианты из базы данных.

## Роли пользователей

| Роль | Описание | Ключевая задача |
|------|----------|-----------------|
| Клиент | Конечный пользователь | Подобрать автомобиль через чат с ИИ |
| Менеджер | Сотрудник компании | Просмотр чатов клиентов, управление списком клиентов |
| Админ | Системная роль | Управление системой (вне MVP) |

## Скоуп MVP

**Включено:**
- Веб-интерфейс чата для клиентов
- История чатов пользователя
- Панель менеджера: просмотр чатов, CRUD клиентов
- Фильтрация и пагинация в списках
- Локальный деплой через Docker Compose

**Вне скоупа MVP:**
- Мобильные и нативные приложения
- Админ-панель
- Интеграции с внешними сервисами (авто.ру, drom и т.д.)
- Многоязычность

## Технологический стек

| Слой | Технология | Обоснование |
|------|------------|-------------|
| Frontend | Angular 19, TypeScript | Изучение фреймворка, возможный рабочий проект |
| Backend | Java 21, Spring Boot 3 | Актуализация навыков для рабочего проекта |
| Database | PostgreSQL 16 | Индустриальный стандарт, используется на работе |
| LLM | Ollama (модель TBD) | Локальный запуск, REST API из коробки |
| Reverse Proxy | nginx | Раздача статики, проксирование API |
| Инфраструктура | Docker Compose | Простой локальный деплой |

## Ключевые ограничения

| Ограничение | Значение |
|-------------|----------|
| Максимум символов в сообщении | 4000 |
| История в контексте LLM | Последние 20 сообщений или 4000 токенов |
| Rate limit сообщений | 10 в минуту на пользователя |
| Таймаут LLM | 60 секунд |
| Поддержка браузеров | Chrome, Firefox, Safari (последние 2 версии) |

## Ключевые параметры автомобиля

Перед выдачей рекомендаций ИИ должен уточнить:

1. **Бюджет** — ценовой диапазон
2. **Тип кузова** — седан, кроссовер, хэтчбек, универсал, минивэн
3. **Тип двигателя** — бензин, дизель, гибрид, электро
4. **Стоимость эксплуатации** — расход топлива, налоги
5. **Количество мест** — 4, 5, 7, 8
